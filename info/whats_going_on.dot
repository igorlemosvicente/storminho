digraph projeto_topology {
    node [style="filled"]
    comments [shape="box" fillcolor="white" label="* Terminados"]

    //files
    {
        node [shape="box" color="yellow"]
        csv [label=".csv"]
        impressaofinal [label="Impressao Final"]
        trainingset [label="trainingSet.arff"]
    }
    //spouts and bolts
    {
        node [shape="ellipse" color="green"]
        linespout [label="Line Spout*", comment="teste"]
        splitsentence [label="SplitSentence*"]
        linesave [label="LineSave"]
        indexsave [label="IndexSave"]
        pairranker [label="PairRanker*"]
        pairgenerator [label="PairGenerator"]
        arvore [label="Árvore"]
        counter [label="Counter*"]
        trainingcreator [label="TrainingCreator"]
    }
    //programas
    {
        node [shape="trapezium" color="orange"]
    }

    //outros
    {
        node [shape="diamond" color="black" fontcolor="white"]
        redis [label="Redis"]
    }

    //ligações
    {
        csv -> linespout [label="[:id:x:x:...]\n[:id:x:x:...]\n[.]\n[.]\n[.]"]
        linespout -> splitsentence [label="[:id:x:x:...]"]
        linespout -> linesave [label="[:id:x:x:...]"]
        linesave -> redis [label="[id][:id:x:x:...]"]
        splitsentence -> indexsave [label="[x][id]"]
        indexsave -> redis[label="[x][id]"]
        indexsave -> pairgenerator [label="[x][id que foi salvo]"]
        pairgenerator -> redis [label="[request]"]
        redis -> pairgenerator [label="[lista][tupla]"]
        pairgenerator -> pairranker [label="[:id:x:x:...][:id:x:x:...]"]
        pairranker -> arvore [label="[Similaridade][resposta_certa]"]
        pairranker -> trainingcreator [label="[Similaridade][resposta_certa]" style="dotted"]
        trainingcreator -> trainingset [label="[Similaridade, resposta_certa]"]
        arvore -> counter [label="[resposta_arvore][resposta_certa]"]
        counter -> impressaofinal [label="Quando a topologia acabar, imprime os resultados"]

    }

    //ranks (posições)
    {
        {rank=same; splitsentence linesave}
        {rank=same; pairgenerator redis}
        {rank=same; pairranker trainingcreator}


    }
}
